!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Shank",[],e):"object"==typeof exports?exports.Shank=e():t.Shank=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.AutoPositioner=e.Positioner=void 0;var r=n(1),i=o(r),s=n(55),u=o(s);e.Positioner=i.default,e.AutoPositioner=u.default,e.default={Positioner:i.default,AutoPositioner:u.default}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_SETTINGS=void 0;var i=n(2),s=o(i),u=n(3),a=o(u),c=n(45),f=o(c),l=n(46),p=o(l),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),v=n(54),d=o(v),y={bottom:"top",center:"center",left:"right",right:"left",top:"bottom"},b={horizontal:0,vertical:0},m={anchorAdjustment:b,collisionContainer:"window",collisionStrategy:["flip","slide"],onCollision:s.default,onCollisionFix:s.default,onCollisionFail:s.default,offsets:{vertical:0,horizontal:0},placement:{anchor:{vertical:"bottom",horizontal:"left"},vessel:{vertical:"top",horizontal:"left"}},vesselAdjustment:b},g=function(){function t(e,n,o){if(r(this,t),!e)throw new Error("Missing argument 'anchor'. Anchor must be supplied for Shank to work properly");if(!n)throw new Error("Missing argument 'vessel'. Vessel must be supplied for Shank to work properly");this._settings=(0,p.default)({},m,o),this._anchor=d.default.getElement(e),this._vessel=d.default.getElement(n),this._collisionContainer=this._settings.collisionContainer?d.default.getElement(this._settings.collisionContainer):void 0}return h(t,[{key:"position",value:function(){var t=void 0,e=void 0,n=void 0;this._prepareVessel(),t=this._getCurrentOffsets(),e=this._adjustOffsets(t,this.adjustments),e=this._getNewOffsets(e,this._settings.placement),n=this.detectCollisions(e.vessel),n&&("function"==typeof this._settings.onCollision&&this._settings.onCollision(),e=this.fixCollisions(t,n,this._settings.collisionStrategy)),this._vessel.style.left=e.vessel.left+"px",this._vessel.style.top=e.vessel.top+"px"}},{key:"_prepareVessel",value:function(){this._vessel.parentNode!==document.body&&document.body.appendChild(this._vessel),this._vessel.style.position="fixed"}},{key:"_getCurrentOffsets",value:function(){return{anchor:d.default.getOffsets(this._anchor),collisionContainer:this._collisionContainer?d.default.getOffsets(this._collisionContainer):null,vessel:d.default.getOffsets(this._vessel)}}},{key:"_invertAdjustments",value:function(t,e){var n=(0,a.default)(t),o=n.anchorAdjustment,r=n.vesselAdjustment;return"vertical"===e?(o.vertical=-o.vertical,r.vertical=-r.vertical):"horizontal"===e&&(o.horizontal=-o.horizontal,r.horizontal=-r.horizontal),{anchorAdjustment:o,vesselAdjustment:r}}},{key:"_adjustOffsets",value:function(t,e){t=(0,a.default)(t);var n=e.anchorAdjustment,o=e.vesselAdjustment,r=t.anchor,i=r.bottom,s=r.left,u=r.right,c=r.top,f=n.horizontal-o.horizontal,l=n.vertical-o.vertical;return t.anchor={bottom:i+l,left:s+f,right:u+f,top:c+l},t}},{key:"_getNewOffsets",value:function(t,e){t=(0,a.default)(t);var n=t.anchor,o=n.bottom,r=n.left,i=n.right,s=n.top,u={bottom:o,left:r,right:i,top:s};return"bottom"===e.anchor.vertical&&(u.top=u.bottom),"right"===e.anchor.horizontal&&(u.left=u.right),"bottom"===e.vessel.vertical&&(u.top-=this._vessel.offsetHeight),"right"===e.vessel.horizontal&&(u.left-=this._vessel.offsetWidth),u.bottom=u.top+this._vessel.offsetHeight,u.right=u.left+this._vessel.offsetWidth,t.vessel=u,t}},{key:"detectCollisions",value:function(t){var e=d.default.getOffsets(this._collisionContainer),n={bottom:e.bottom<t.bottom||e.bottom<t.top,left:e.left>t.left||e.left>t.right,right:e.right<t.right||e.right<t.left,top:e.top>t.top||e.top>t.bottom};return n.bottom||n.left||n.right||n.top?n:void 0}},{key:"fixCollisions",value:function(t,e,n){var o=this._settings,r=(0,f.default)(n),i=r.shift(),s=null,u={flip:this.flip,slide:this.slide};if(!i)return"function"==typeof o.onCollisionFail&&o.onCollisionFail(),t;if("function"!=typeof u[i])throw new Error("Collision strategy "+i+" not found");return s=u[i].call(this,t,o.placement,e),(e=this.detectCollisions(s.vessel))?this.fixCollisions(t,e,r):("function"==typeof o.onCollisionFix&&o.onCollisionFix(i),s)}},{key:"flip",value:function(t,e,n){var o=void 0,r=void 0,i=(0,a.default)(e),s=n.right&&!n.left||n.left&&!n.right,u=n.bottom&&!n.top||n.top&&!n.bottom;return s&&(i.anchor.horizontal=y[i.anchor.horizontal],i.vessel.horizontal=y[i.vessel.horizontal],o=this._invertAdjustments(this.adjustments,"horizontal")),u&&(i.anchor.vertical=y[i.anchor.vertical],i.vessel.vertical=y[i.vessel.vertical],o=this._invertAdjustments(this.adjustments,"vertical")),r=this._adjustOffsets(t,o),r=this._getNewOffsets(r,i)}},{key:"slide",value:function(t,e,n){var o=void 0;t=(0,a.default)(t),o=t.vessel;var r=o.right-o.left,i=o.bottom-o.top;return n.left&&!n.right?(o.left=t.collisionContainer.left,o.right=o.left+r):n.right&&!n.left&&(o.left=t.collisionContainer.right-r,o.right=o.right),n.top&&!n.bottom?(o.top=t.collisionContainer.top,o.bottom=o.top+i):n.bottom&&!n.top&&(o.bottom=t.collisionContainer.bottom,o.top=o.top-i),t}},{key:"adjustments",get:function(){return this._adjustments?this._adjustments:(this._adjustments={anchorAdjustment:(0,p.default)({},b,this._settings.anchorAdjustment),vesselAdjustment:(0,p.default)({},b,this._settings.vesselAdjustment)},this._adjustments)}}]),t}();e.default=g,e.DEFAULT_SETTINGS=m},function(t,e){function n(){}t.exports=n},function(t,e,n){function o(t){return r(t,i|s)}var r=n(4),i=1,s=4;t.exports=o},function(t,e,n){function o(t,e,n,k,S,E){var z,T=e&x,W=e&O,I=e&A;if(n&&(z=S?n(t,k,S,E):n(t)),void 0!==z)return z;if(!j(t))return t;var N=g(t);if(N){if(z=y(t),!T)return f(t,z)}else{var U=d(t),D=U==P||U==F;if(_(t))return c(t,T);if(U==M||U==C||D&&!S){if(z=W||D?{}:m(t),!T)return W?p(t,a(z,t)):l(t,u(z,t))}else{if(!Z[U])return S?t:{};z=b(t,U,o,T)}}E||(E=new r);var L=E.get(t);if(L)return L;E.set(t,z);var R=I?W?v:h:W?keysIn:w,q=N?void 0:R(t);return i(q||t,function(r,i){q&&(i=r,r=t[i]),s(z,i,o(r,e,n,i,t,E))}),z}var r=n(5),i=n(13),s=n(14),u=n(18),a=n(22),c=n(24),f=n(28),l=n(29),p=n(31),h=n(33),v=n(34),d=n(35),y=n(36),b=n(37),m=n(38),g=n(43),_=n(44),j=n(40),w=n(20),x=1,O=2,A=4,C="[object Arguments]",k="[object Array]",S="[object Boolean]",E="[object Date]",z="[object Error]",P="[object Function]",F="[object GeneratorFunction]",T="[object Map]",W="[object Number]",M="[object Object]",I="[object RegExp]",N="[object Set]",U="[object String]",D="[object Symbol]",L="[object WeakMap]",R="[object ArrayBuffer]",q="[object DataView]",B="[object Float32Array]",V="[object Float64Array]",G="[object Int8Array]",H="[object Int16Array]",J="[object Int32Array]",K="[object Uint8Array]",Q="[object Uint8ClampedArray]",X="[object Uint16Array]",Y="[object Uint32Array]",Z={};Z[C]=Z[k]=Z[R]=Z[q]=Z[S]=Z[E]=Z[B]=Z[V]=Z[G]=Z[H]=Z[J]=Z[T]=Z[W]=Z[M]=Z[I]=Z[N]=Z[U]=Z[D]=Z[K]=Z[Q]=Z[X]=Z[Y]=!0,Z[z]=Z[P]=Z[L]=!1,t.exports=o},function(t,e,n){function o(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}var r=n(6),i=n(7),s=n(10),u=n(11),a=n(12);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=u,o.prototype.set=a,t.exports=o},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function o(t){var e=this.__data__,n=r(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():s.call(e,n,1),--this.size,!0}var r=n(8),i=Array.prototype,s=i.splice;t.exports=o},function(t,e,n){function o(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}var r=n(9);t.exports=o},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function o(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}var r=n(8);t.exports=o},function(t,e,n){function o(t){return r(this.__data__,t)>-1}var r=n(8);t.exports=o},function(t,e,n){function o(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}var r=n(8);t.exports=o},function(t,e){function n(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function o(t,e,n){var o=t[e];u.call(t,e)&&i(o,n)&&(void 0!==n||e in t)||r(t,e,n)}var r=n(15),i=n(9),s=Object.prototype,u=s.hasOwnProperty;t.exports=o},function(t,e,n){function o(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var r=n(16);t.exports=o},function(t,e,n){var o=n(17),r=function(){try{var t=o(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function o(t,e){return t&&r(e,i(e),t)}var r=n(19),i=n(20);t.exports=o},function(t,e,n){function o(t,e,n,o){var s=!n;n||(n={});for(var u=-1,a=e.length;++u<a;){var c=e[u],f=o?o(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),s?i(n,c,f):r(n,c,f)}return n}var r=n(14),i=n(15);t.exports=o},function(t,e,n){var o=n(21),r=o(Object.keys,Object);t.exports=r},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){function o(t,e){return t&&r(e,i(e),t)}var r=n(19),i=n(23);t.exports=o},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){(function(t){function o(t,e){if(e)return t.slice();var n=t.length,o=c?c(n):new t.constructor(n);return t.copy(o),o}var r=n(26),i="object"==typeof e&&e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=s&&s.exports===i,a=u?r.Buffer:void 0,c=a?a.allocUnsafe:void 0;t.exports=o}).call(e,n(25)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var o=n(27),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();t.exports=i},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e){function n(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function o(t,e){return r(t,i(t),e)}var r=n(19),i=n(30);t.exports=o},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function o(t,e){return r(t,i(t),e)}var r=n(19),i=n(32);t.exports=o},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var o=n(21),r=o(Object.keys,Object);t.exports=r},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e){function n(t){return r.call(t)}var o=Object.prototype,r=o.toString;t.exports=n},function(t,e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var o=Object.prototype,r=o.hasOwnProperty;t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function o(t){return"function"!=typeof t.constructor||s(t)?{}:r(i(t))}var r=n(39),i=n(41),s=n(42);t.exports=o},function(t,e,n){var o=n(40),r=Object.create,i=function(){function t(){}return function(e){if(!o(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var o=n(21),r=o(Object.getPrototypeOf,Object);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function o(t){return r(t,i)}var r=n(4),i=4;t.exports=o},function(t,e,n){var o=n(19),r=n(47),i=n(23),s=r(function(t,e){o(e,i(e),t)});t.exports=s},function(t,e,n){function o(t){return r(function(e,n){var o=-1,r=n.length,s=r>1?n[r-1]:void 0,u=r>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(r--,s):void 0,u&&i(n[0],n[1],u)&&(s=r<3?void 0:s,r=1),e=Object(e);++o<r;){var a=n[o];a&&t(e,a,o,s)}return e})}var r=n(48),i=n(53);t.exports=o},function(t,e,n){function o(t,e){return s(i(t,e,r),t+"")}var r=n(49),i=n(50),s=n(52);t.exports=o},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function o(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,u=i(o.length-e,0),a=Array(u);++s<u;)a[s]=o[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=o[s];return c[e]=n(a),r(t,this,c)}}var r=n(51),i=Math.max;t.exports=o},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={getElement:function(t){if("string"==typeof t&&"window"!==t)return document.querySelector(t);if("window"==t)return window;if("object"===("undefined"==typeof t?"undefined":n(t)))return t;throw new Error("Invalid argument. Expecting CSS selector or DOM element")},getOffsets:function(t){if(t===window)return{bottom:window.innerHeight,left:0,right:window.innerWidth,top:0};var e=t.getBoundingClientRect(),n=e.bottom,o=e.left,r=e.right,i=e.top;return{bottom:n,left:o,right:r,top:i}}},t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(56),a=o(u),c=n(46),f=o(c),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=n(1),h=o(p),v=n(54),d=(o(v),{watchStrategy:{type:"animation-frame"}}),y=function(t){function e(t,n,o){r(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o));return s._settings=(0,f.default)({},d,s._settings),s.reposition(),s.startWatching(),s}return s(e,t),l(e,[{key:"startWatching",value:function(){this._watching=!0,this._watchCleanup=this._watch(this.reposition)}},{key:"stopWatching",value:function(){this._watching=!1,"function"==typeof this._watchCleanup&&this._watchCleanup()}},{key:"reposition",value:function(){this._anchor&&this._anchor.offsetParent&&this.position()}},{key:"_watch",value:function(t){var e=this._settings.watchStrategy;switch(e.type){case"interval":return this._watchWithInterval(t);case"events":return this._watchWithEvents(t);default:return this._watchWithAnimationFrame(t)}}},{key:"_watchWithAnimationFrame",value:function(t){var e=this,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};this._watching&&n(function(){t.call(e),e._watchWithAnimationFrame(t)})}},{key:"_watchWithInterval",value:function(t){var e=this,n=this._settings.watchStrategy.delay||120,o=setInterval(function(){return e._watching?void t.call(e):void clearInterval(o)},n);return function(){o&&clearInterval(o)}}},{key:"_watchWithEvents",value:function(t){var e=this,n=this._settings.watchStrategy,o=function(){t.call(e)},r=(0,a.default)(o,n.delay||15);return window.addEventListener("resize",r),window.addEventListener("scroll",r),function(){window.removeEventListener("resize",r),window.removeEventListener("scroll",r)}}},{key:"placement",get:function(){return this._settings.placement}}]),e}(h.default);e.default=y,t.exports=e.default},function(t,e,n){function o(t,e,n){function o(e){var n=m,o=g;return m=g=void 0,O=e,j=t.apply(o,n)}function f(t){return O=t,w=setTimeout(h,e),A?o(t):j}function l(t){var n=t-x,o=t-O,r=e-n;return C?c(r,_-o):r}function p(t){var n=t-x,o=t-O;return void 0===x||n>=e||n<0||C&&o>=_}function h(){var t=i();return p(t)?v(t):void(w=setTimeout(h,l(t)))}function v(t){return w=void 0,k&&m?o(t):(m=g=void 0,j)}function d(){void 0!==w&&clearTimeout(w),O=0,m=x=g=w=void 0}function y(){return void 0===w?j:v(i())}function b(){var t=i(),n=p(t);if(m=arguments,g=this,x=t,n){if(void 0===w)return f(x);if(C)return w=setTimeout(h,e),o(x)}return void 0===w&&(w=setTimeout(h,e)),j}var m,g,_,j,w,x,O=0,A=!1,C=!1,k=!0;if("function"!=typeof t)throw new TypeError(u);return e=s(e)||0,r(n)&&(A=!!n.leading,C="maxWait"in n,_=C?a(s(n.maxWait)||0,e):_,k="trailing"in n?!!n.trailing:k),b.cancel=d,b.flush=y,b}var r=n(40),i=n(57),s=n(58),u="Expected a function",a=Math.max,c=Math.min;t.exports=o},function(t,e,n){var o=n(26),r=function(){return o.Date.now()};t.exports=r},function(t,e){function n(t){return t}t.exports=n}])});